<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <!-- BOOTSTRAP BLOCK -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- VUE -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
    <title>Добавить рецепт</title>
</head>
<body class="bg-transparent">

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand mb-0 h1"  href="#">Sweetbook</a>
</nav>

<main  id="addrecipe" class="container-fluid mt-2">
  <h2 class="text-center">Добавить рецепт</h2>
    <div class="container bg-light">
        <div class="row border">  <!--Name and description row-->
            <div class="input-group mx-1 my-1">
                <div class="input-group-prepend">
                    <span class="input-group-text">Название</span>
                </div>
                <input v-model="recipeName"  type="text" class="form-control" placeholder="Например: &#34;Торт Красный бархат&#34;">
            </div>

            <div class="input-group mx-1 my-1">
                <div class="input-group-prepend">
                    <span class="input-group-text">Описание</span>
                </div>
                <input  v-model="description"  type="text" class="form-control" placeholder="Например: &#34;Бисквитный торт с крем-чиз и ягодной начинкой&#34;">
            </div>
        </div> <!--End of Name and description row-->

        <div class="row border mt-2">  <!--Category row-->
                <div class="input-group  mx-1 my-1">
                <span class="input-group-text">Категории</span>
                <input v-model="catKeyword" @keyup.enter="setCatData(catKeyword)" type="text" maxlength="30"  class="form-control" placeholder="Например: &#34;Десерты&#34;">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" @click="setCatData(catKeyword)" type="button">{{ labelCat }}</button>
                </div>
                <div>
                    <button  v-for="cat in catFound" v-bind:key="cat.id" @click="setCatData(cat.name)" type="button" class="btn btn-outline-secondary ml-1">{{ cat.name }}</button> <!--Cat live search results-->
                </div>
            </div>

                <div class="input-group mx-1">
                    <div class="mx-1" v-for="(cat, index) in catSelected">
                        <button class="border-0" @click="setCatEdit(index)"><strong>{{ cat.name }}</strong></button> <!--cat list-->
                    <button type="button" @click="delCat(index)" class="close" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    </div>
                </div>

        </div> <!-- end of category row-->

        <div class="row border mt-2">   <!--Ingredient row-->

            <div class="input-group mx-1 my-1">
                <div class="input-group-prepend">
                    <span class="input-group-text">Ингредиенты</span>
                </div>
                <input v-model="ingKeyword" type="text" placeholder="Например: &#34;Мука&#34;" class="form-control">
                <div class="input-group-prepend">
                    <span class="input-group-text">Количество</span>
                </div>
                <input v-model="ingCount" @keyup.enter="setIngData(ingKeyword, ingCount)" type="text" placeholder="Например: &#34;350 грамм&#34;" class="form-control">
                <button class="btn btn-outline-secondary" @click="setIngData(ingKeyword, ingCount)" type="button">{{ labelIng }}</button> <!--Ing live search-->
                <div>
                    <button  v-for="ing in ingFound" @click="useIngData(ing.name)" type="button" class="btn btn-outline-secondary  ml-1">{{ ing.name }}</button> <!--Ing live search results-->
                </div>
                </div>
            <div class="input-group mx-1">
            <div class="mx-1" v-for="(ingredient, index) in ingSelected">
                <button class="border-0" @click="setIngEdit(index)"> <strong> {{ ingredient.ingredient.name }} :</strong>  {{ ingredient.count }} </button> <!--ingredient list-->
                            <button type="button" @click="delIng(index)" class="close" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                    </div>
            </div>
            </div>  <!-- end of Ingredient row-->

        <div class="row border mt-2"> <!--Recipe row-->
            <div class="input-group mx-1 my-1">
            <textarea v-model="algorithm" class="form-control" rows="7" placeholder="Подробно опишите алгоритм приготовления..."></textarea>
            </div>
            </div> <!-- end of Recipe row-->


    <div class="row border mt-2"> <!--Buttons row-->
        <div>
            <div class="input-group mx-1 my-1">
                <button class="btn btn-outline-secondary" @click="saveRecipe" type="button">Добавить рецепт</button>
                <button class="btn btn-outline-secondary ml-1" @click="cleanForm" type="button">Очистить форму</button>
                <button class="btn btn-outline-secondary ml-1" @click="" type="button">Отменить</button>
            </div>
        </div>

        <div class="col">
                <span> <strong> {{ userFn }} </strong> {{ userLn }} </span>
        </div>
    </div>

    </div>

</main>

<script src="js/addrecipe.js"></script>

<!-- BOOTSTRAP BLOCK -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<!-- BOOTSTRAP BLOCK -->
</body>
</html>